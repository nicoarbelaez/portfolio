---
import Language from '@/icons/Language.astro';
import type { NavLinkProps } from '@/types/nav';

interface Props {
  lang: string;
  navLinks: NavLinkProps[];
  class?: string;
}

const { lang, navLinks, class: className } = Astro.props;
---

<div class:list={['relative inline-block', className]}>
  <button
    class="flex w-full cursor-pointer items-center gap-x-1 text-xs font-semibold text-slate-300/90 uppercase transition-colors hover:text-white focus:outline-none"
  >
    <Language class="pointer-events-none size-4" />
    {lang}
  </button>
  <select
    class="absolute inset-0 h-full w-full cursor-pointer opacity-0"
    onchange="window.location.href = this.value"
    aria-label="Select language"
  >
    <option value="" disabled selected>Select language</option>
    {
      navLinks.map(({ href, text, code }) => (
        <option value={href}>
          {text} ({code})
        </option>
      ))
    }
  </select>
</div>
