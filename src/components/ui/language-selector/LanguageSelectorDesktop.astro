---
import Language from '@/icons/Language.astro';
import type { NavLinkProps } from '@/types/nav';

interface Props {
  lang: string;
  navLinks: NavLinkProps[];
  class?: string;
}

const { lang, navLinks, class: className } = Astro.props;
---

<div class:list={['group relative inline-block', className]}>
  <button
    id="language-dropdown-button"
    class="flex cursor-pointer items-center gap-x-1 text-xs font-semibold text-slate-300/90 uppercase transition-colors hover:text-white focus:outline-none"
  >
    <Language class="pointer-events-none size-4" />
    {lang}
  </button>

  <div
    id="language-dropdown-menu"
    class="absolute right-0 z-50 mt-4 hidden w-30 list-none divide-y divide-gray-100 rounded-lg bg-slate-900/90 px-3 py-2 text-base shadow-sm backdrop-blur-xl group-focus-within:block"
  >
    <ul class="py-2 font-medium" role="none">
      <li class="flex flex-col gap-y-2">
        {
          navLinks.map(({ href, text, code }) => (
            <a
              href={href}
              class="flex cursor-pointer items-center text-xs font-semibold text-slate-300/90 uppercase transition-colors hover:text-white focus:outline-none"
            >
              {text} ({code})
            </a>
          ))
        }
      </li>
    </ul>
  </div>
</div>
